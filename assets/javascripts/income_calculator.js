(function(){var t,e;e="undefined"!=typeof exports&&null!==exports?exports:this,t=function(){function t(){}var e,r,a,o,n;return a=1085,o=245,r=160,t.prototype.calculate=function(t,e,n,l){var u,i,p,c,s,f;return u=n*o,i=parseFloat(t),p="true"===e||e===!0?r:0,c=Math.max(10*Math.floor((l-(a+u+p))/10,0)*.5,0),f=Math.min(c,i),s=0===f?{type:"full",to_pay:"0"}:f===i?{type:"none",to_pay:f.toString()}:f>0&&i>f?{type:"part",to_pay:f.toString()}:{type:"error",to_pay:""}},e=function(){var t=0;return $("input[data-check]").each(function(){var e,r,a;a=$(this),e=$("label.error[data-check-error="+a.data("check")+"]"),r=e.parents(".form-group").children("div"),0===a.val().length||a.is(":radio")&&void 0===$("input[name="+a.attr("name")+"]:checked").val()?(e.removeClass("hide"),t++,r.addClass("field_with_errors")):(e.addClass("hide"),r.removeClass("field_with_errors"))}),0===t},t.prototype.formatCurrency=function(t,e){var r;return null==e&&(e=2),r=parseFloat(t).toFixed(e).replace(/\.0{2}/,""),"\xa3"+r},n=function(t){storeValue("staff","outcome",t.type),"part"==t.type&&storeValue("staff","to_pay",t.to_pay)},t.prototype.setupPage=function(){$(".error").addClass("hide")},t.prototype.setup=function(){return this.setupPage(),$("#next-url").on("click",function(r){var a;r.preventDefault(),e()&&(a=t.prototype.calculate($("#fee").val(),$("input:radio[name=couple]:checked").val(),$("#children").val(),$("#income").val()),n(a),document.location=$("#next-url").attr("href"))})},t}(),e.incomeCalculator=t,jQuery(function(){var e;return e=new t,e.setup()})}).call(this);