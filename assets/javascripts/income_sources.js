"use strict";var incomeSourcesModule={sourcesContainer:"#income-sources",nextButton:"#next-url",sources:[{name:"income-wages",text:"Wages"},{name:"income-child-benefit",text:"Child Benefit"},{name:"income-working-tax-credit",text:"Working tax credit"},{name:"income-child-tax-credit",text:"Child tax credit"},{name:"income-maintenence-payments",text:"Maintenence payments"},{name:"income-jsa",text:"Contribution-based Jobseekers Allowance (JSA)"},{name:"income-esa",text:"Contribution-based Employment and Support Allowance (ESA)"},{name:"income-universal-credit",text:"Universal Credit"},{name:"income-pensions",text:"Pensions (state, work, private)"},{name:"income-rent",text:"Rent from anyone living with you"},{name:"income-rent-other",text:"Rent from other properties you own"},{name:"income-other",text:"Other monthly income"}],prefixes:["user","partner"],isMarried:null,init:function(){var e=this;$(e.sourcesContainer).length&&(e.isMarried=getValue("public","married").toString(),e.bindEvents(),e.writeIncomeSources())},bindEvents:function(){{var e=this,n=$(e.nextButton);n.attr("href")}n.on("click",function(n){n.preventDefault(),e.getSources()}),$(document).on("click","#income-sources-wrapper input",function(n){e.checkColumn($(n.target))})},writeIncomeSources:function(){var e=this,n=$("#income-sources-wrapper"),t="";t+='<div class="small-12 medium-6 income-source-list columns user">',t+="<h3>Your income</h3>",e.sources.forEach(function(n){t+='<div class="source-row" data-source="'+n.name+'" data-person="user">',t+=e.compileSource(n.name,n.text,e.prefixes[0]),t+="</div>"}),t+='<div class="source-row no-income-row">',t+='<div class="options radio"><div class="option">',t+='<label for="user-none">',t+='<input id="user-none" class="check-none" type="checkbox">',t+="No income",t+="</label></div></div></div>",t+="</div>","true"===e.isMarried&&(t+='<div class="small-12 medium-6 income-source-list columns partner">',t+="<h3>Your partner's income</h3>",e.sources.forEach(function(n){t+='<div class="source-row" data-source="'+n.name+'" data-person="partner">',t+=e.compileSource(n.name,n.text,e.prefixes[1]),t+="</div>"}),t+='<div class="source-row no-income-row">',t+='<div class="options radio"><div class="option">',t+='<label for="partner-none">',t+='<input id="partner-none" class="check-none" type="checkbox">',t+="No income",t+="</label></div></div>",t+="</div>"),n.find(".row").eq(0).html(t)},compileSource:function(e,n,t){var o="";return o+='<div class="options radio"><div class="option">',o+='<label for="'+t+"-"+e+'">',o+='<input id="'+t+"-"+e+'" type="checkbox">',o+=n,o+="</label></div></div>"},getSources:function(){var e=this,n=[];e.sources.forEach(function(t){var o=$('[data-source="'+t.name+'"] input:checked');if(o.length){var i={name:t.name,text:t.text};e.prefixes.forEach(function(e){i[e]=$('[data-source="'+t.name+'"][data-person="'+e+'"] input').prop("checked")}),n.push(i)}}),storeValue("public","income-sources",n),e.goNext()},goNext:function(){var e=this;document.location=$(e.nextButton).attr("href")},checkColumn:function(e){var n=this,t=e.attr("id").split("-")[0];e.hasClass("check-none")&&e.is(":checked")?($('input[id^="'+t+'"]:checked').each(function(e,t){n.unselect($(t))}),n.select(e)):$('input[id="'+t+'-none"]:checked').each(function(e,t){n.unselect($(t))})},select:function(e){e.prop("checked",!0).closest("label").addClass("selected")},unselect:function(e){e.prop("checked",!1).closest("label").removeClass("selected")}};