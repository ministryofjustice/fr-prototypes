"use strict";var incomeSourcesModule={sourcesContainer:"#income-sources",nextButton:"#next-url",sources:[{name:"income-wages",text:"Wages"},{name:"income-child-benefit",text:"Child Benefit"},{name:"income-working-tax-credit",text:"Working tax credit"},{name:"income-child-tax-credit",text:"Child tax credit"},{name:"income-maintenence-payments",text:"Maintenence payments"},{name:"income-jsa",text:"Contribution-based Jobseekers Allowance (JSA)"},{name:"income-esa",text:"Contribution-based Employment and Support Allowance (ESA)"},{name:"income-universal-credit",text:"Universal Credit"},{name:"income-pensions",text:"Pensions (state, work, private)"},{name:"income-rent",text:"Rent from anyone living with you"},{name:"income-rent-other",text:"Rent from other properties you own"},{name:"income-other",text:"Other monthly income"}],prefixes:["user","partner"],isMarried:null,init:function(){var e=this;$(e.sourcesContainer).length&&(e.isMarried=getUrlParameter("married").toString(),e.bindEvents(),e.writeIncomeSources())},bindEvents:function(){{var e=this,n=$(e.nextButton);n.attr("href")}n.on("click",function(n){n.preventDefault(),e.getSources()}),$(document).on("click","#income-sources-wrapper input",function(n){e.checkColumn($(n.target))})},writeIncomeSources:function(){var e=this,n=$("#income-sources-wrapper"),t="";e.sources.forEach(function(n){t+='<div class="row source-row" data-source="'+n.name+'">',t+=e.compileSource(n.name,n.text,e.prefixes[0]),"true"===e.isMarried&&(t+=e.compileSource(n.name,n.text,e.prefixes[1])),t+="</div>"}),t+='<div class="row source-row no-income-row">',t+='<div class="small-12 medium-6 columns">',t+='<div class="options radio"><div class="option">',t+='<label for="user-none">',t+='<input id="user-none" class="check-none" type="checkbox">',t+="No income",t+="</label></div></div></div>","true"===e.isMarried&&(t+='<div class="small-12 medium-6 columns">',t+='<div class="options radio"><div class="option">',t+='<label for="partner-none">',t+='<input id="partner-none" class="check-none" type="checkbox">',t+="No income",t+="</label></div></div></div>"),t+="</div>",n.append(t)},compileSource:function(e,n,t){var i='<div class="small-12 medium-6 columns">';return i+='<div class="options radio"><div class="option">',i+='<label for="'+t+"-"+e+'">',i+='<input id="'+t+"-"+e+'" type="checkbox">',i+=n,i+="</label></div></div></div>"},getSources:function(){var e=this,n=[];$(e.sourcesContainer).find(".source-row:not(.no-income-row)").each(function(t,i){var o=$(i),c=o.find("input:checked");if(c.length){var r={name:o.data("source"),text:o.find("input").eq(0).closest("label").text()};r[e.prefixes[0]]=o.find('input[id^="'+e.prefixes[0]+'"]').prop("checked"),r[e.prefixes[1]]=o.find('input[id^="'+e.prefixes[1]+'"]').prop("checked"),n.push(r)}}),storeValue("public","income-sources",n),e.goNext()},goNext:function(){var e=this;document.location=$(e.nextButton).attr("href")},checkColumn:function(e){var n=this,t=e.attr("id").split("-")[0];e.hasClass("check-none")&&e.is(":checked")?($('input[id^="'+t+'"]:checked').each(function(e,t){n.unselect($(t))}),n.select(e)):$('input[id="'+t+'-none"]:checked').each(function(e,t){n.unselect($(t))})},select:function(e){e.prop("checked",!0).closest("label").addClass("selected")},unselect:function(e){e.prop("checked",!1).closest("label").removeClass("selected")}};