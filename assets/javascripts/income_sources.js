"use strict";var incomeSourcesModule={sourcesContainer:"#income-sources",nextButton:"#next-url",sources:[{name:"income-wages",text:"Wages"},{name:"income-child-benefit",text:"Child Benefit"},{name:"income-working-tax-credit",text:"Working tax credit"},{name:"income-child-tax-credit",text:"Child tax credit"},{name:"income-maintenence-payments",text:"Maintenence payments"},{name:"income-jsa",text:"Contribution-based Jobseekers Allowance (JSA)"},{name:"income-esa",text:"Contribution-based Employment and Support Allowance (ESA)"},{name:"income-universal-credit",text:"Universal Credit"},{name:"income-pensions",text:"Pensions (state, work, private)"},{name:"income-rent",text:"Rent from anyone living with you"},{name:"income-rent-other",text:"Rent from other properties you own"},{name:"income-other",text:"Other monthly income"}],prefixes:["user","partner"],isMarried:null,init:function(){var e=this;$(e.sourcesContainer).length&&(e.isMarried=getUrlParameter("married").toString(),e.bindEvents(),e.writeIncomeSources())},bindEvents:function(){{var e=this,n=$(e.nextButton);n.attr("href")}n.on("click",function(n){n.preventDefault(),e.getSources()}),$(document).on("click","#income-sources-wrapper input",function(n){e.checkColumn($(n.target))})},writeIncomeSources:function(){var e=this,n=$("#income-sources-wrapper"),i="";e.sources.forEach(function(n){i+='<div class="row source-row" data-source="'+n.name+'">',i+=e.compileSource(n.name,n.text,e.prefixes[0]),"true"===e.isMarried&&(i+=e.compileSource(n.name,n.text,e.prefixes[1])),i+="</div>"}),i+='<div class="row source-row no-income-row">',i+='<div class="small-12 medium-6 columns">',i+='<div class="options radio"><div class="option">',i+='<label for="user-none">',i+='<input id="user-none" class="check-none" type="checkbox">',i+="No income",i+="</label></div></div></div>","true"===e.isMarried&&(i+='<div class="small-12 medium-6 columns">',i+='<div class="options radio"><div class="option">',i+='<label for="partner-none">',i+='<input id="partner-none" class="check-none" type="checkbox">',i+="No income",i+="</label></div></div></div>"),i+="</div>",n.append(i)},compileSource:function(e,n,i){var t='<div class="small-12 medium-6 columns">';return t+='<div class="options radio"><div class="option">',t+='<label for="'+i+"-"+e+'">',t+='<input id="'+i+"-"+e+'" type="checkbox">',t+=n,t+="</label></div></div></div>"},getSources:function(){var e=this,n=[];$(e.sourcesContainer).find(".source-row:not(.no-income-row)").each(function(i,t){var o=$(t),r=o.find("input:checked");if(r.length){var c={name:o.data("source"),text:o.find("input").eq(0).closest("label").text()};c[e.prefixes[0]]=o.find('input[id^="'+e.prefixes[0]+'"]').prop("checked"),c[e.prefixes[1]]=o.find('input[id^="'+e.prefixes[1]+'"]').prop("checked"),n.push(c)}}),localStorage.setItem("income-sources",JSON.stringify(n)),e.goNext()},goNext:function(){var e=this;document.location=$(e.nextButton).attr("href")},checkColumn:function(e){var n=e.attr("id").split("-")[0];e.hasClass("check-none")?$('input[id^="'+n+'"]:checked').trigger("click"):$('input[id="'+n+'-none"]:checked').trigger("click")}};