"use strict";var incomeSummaryModule={sources:null,prefixes:incomeSourcesModule.prefixes,isMarried:getUrlParameter("married").toString(),init:function(){var s=this;$(".row#income-summary").length&&(s.sources=JSON.parse(localStorage.getItem("income-sources")),console.dir(s.sources),s.totals=s.getTotals(),s.showIncomeSummary(),console.log(s.totals))},showIncomeSummary:function(){var s=this,o="";$(".row.income-detail").remove(),o+='<div class="small-12 medium-4 columns">',o+='<div class="subheader">Total income (monthly)</div>',o+="</div>",o+='<div class="small-12 medium-7 columns">',o+="<strong>\xa3"+s.totals[2]+"</strong>",o+="</div>",o+='<div class="small-12 medium-1 large-1 columns">',o+='<a href="income.html">Change</a>',o+="</div>",$(".row#income-summary").html(o).after(s.incomeSourcesRows())},incomeSourcesRows:function(){var s=this,o="";return"true"===s.isMarried&&(o+='<div class="row">',o+='<div class="small-4 small-offset-4 columns"><strong>You</strong></div>',o+='<div class="small-4 columns"><strong>Your partner</strong></div>',o+="</div>"),s.sources.forEach(function(r){o+='<div class="row">',o+='<div class="small-4 columns"><div class="subheader">'+r.text+"</div></div>",o+='<div class="small-4 columns">\xa3'+(r.userAmount?r.userAmount:0)+"</div>",o+='<div class="small-4 columns">'+("true"===s.isMarried?"\xa3"+(r.partnerAmount?r.partnerAmount:0):"&nbsp;")+"</div>",o+="</div>"}),"true"===s.isMarried&&(o+='<div class="row">',o+='<div class="small-4 small-offset-4 columns"><strong>\xa3'+s.totals[0]+"</strong></div>",o+='<div class="small-4 columns"><strong>\xa3'+s.totals[1]+"</strong></div>",o+="</div>"),o},getTotals:function(){var s=this,o=0,r=0;return s.sources.forEach(function(s){o+=parseFloat(s.userAmount?s.userAmount:0,10),r+=parseFloat(s.partnerAmount?s.partnerAmount:0,10)}),[o,r,"true"===s.isMarried?o+r:o]}};