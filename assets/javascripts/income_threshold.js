"use strict";var incomeThresholdModule={prefixes:["user","partner"],isMarried:null,baseThresholdFloor:1085,thresholdRange:4e3,thresholdMarriedAllowance:160,thresholdChildAllowance:245,init:function(){var e=this,r=$("form#income-amount"),t=$("ul.income-sources",r);t.length&&(e.isMarried=getValue("public","married").toString(),e.updateThresholdFigures(),e.writeIncomeList(t),e.bindEvents())},bindEvents:function(){$('[name="income-amount"]').on("change",function(e){var r=$(e.target),t=r.val(),o=r.data("next");storeValue("public","income-band",t),buildNextUrl(o+".html")})},writeIncomeList:function(e){var r=this,t=getValue("public","income-sources"),o="";t.forEach(function(e){var t="";r.prefixes.forEach(function(r){e[r]&&"true"===e[r].toString()&&(t="<li>"+e.text+"</li>")}),o+=t}),$(e).each(function(e,r){$(r).html(o)})},updateThresholdFigures:function(){var e,r=this,t=r.baseThresholdFloor;"true"===getValue("public","married").toString()&&(t+=r.thresholdMarriedAllowance),getValue("public","children")&&(t+=parseInt(getValue("public","children"),10)*r.thresholdChildAllowance),e=t+r.thresholdRange,$(".threshold-lower").text(numeral(t).format("0,0")),$(".threshold-upper").text(numeral(e).format("0,0")),storeValue("public","incomeThresholdFloor",t),storeValue("public","incomeThresholdCeiling",e)},formatCurrency:function(e){return"\xa3"+numeral(e).format("0,0.00")}};